function defineSequence(e,t){"use strict";var n=[],i=0,a=function(a,o){function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){var n;return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,"")[t]),n}function u(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),n;if(e.attachEvent){var i=function(){n.call(e)};return e.attachEvent("on"+t,i),i}}function p(e,t,n){e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function d(e){var t,n;return n=e.indexOf("ms")>-1?1:1e3,t="0s"==e?0:parseFloat(e.replace("s",""))*n}function c(e,t){return void 0!==e?new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className):void 0}function h(e,t){var n,i,a;for(r(e)===!1&&(i=1,e=[e]),i=e.length,a=0;i>a;a++)n=e[a],c(n,t)===!1&&(n.className+=(n.className?" ":"")+t)}function f(e,t){var n,i,a;for(r(e)===!1?(i=1,e=[e]):i=e.length,a=0;i>a;a++)n=e[a],c(n,t)===!0&&(n.className=n.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function m(e,t){var n=e.getBoundingClientRect(),i=!1;return t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&(i=!0),i}function v(e,t,n){if("BODY"===t.nodeName)return!1;if(e!==t)return n=t,v(e,t.parentNode,n);if(void 0!==n)for(var i=n,a=e.getElementsByTagName(i.nodeName),o=a.length;o--;)if(i===a[o])return o+1}function g(e){var n=0,i=t.DIRECTION_NONE;return(void 0!==e.left||void 0!==e.right)&&(n+=1),(void 0!==e.up||void 0!==e.down)&&(n+=2),1===n?i=t.DIRECTION_HORIZONTAL:2===n?i=t.DIRECTION_VERTICAL:3===n&&(i=t.DIRECTION_ALL),i}function y(e,t){var n="seq-",i="no-touch";t.touch===!0&&(i="touch"),h(e,n+i)}var T=a.getAttribute("data-seq-enabled");if(null!==T)return n[T];a.setAttribute("data-seq-enabled",i),i++;var S={startingStepId:1,startingStepAnimatesIn:!1,cycle:!0,phaseThreshold:!0,reverseWhenNavigatingBackwards:!1,moveActiveStepToTop:!0,animateCanvas:!0,animateCanvasDuration:250,autoPlay:!1,autoPlayInterval:5e3,autoPlayDelay:null,autoPlayDirection:1,autoPlayButton:!0,autoPlayPauseOnHover:!0,navigationSkip:!0,navigationSkipThreshold:250,fadeStepWhenSkipped:!0,fadeStepTime:500,ignorePhaseThresholdWhenSkipped:!1,preventReverseSkipping:!1,nextButton:!0,prevButton:!0,pagination:!0,preloader:!1,preloadTheseSteps:[1],preloadTheseImages:[],hideStepsUntilPreloaded:!1,pausePreloader:!1,keyNavigation:!1,numericKeysGoToSteps:!1,keyEvents:{left:function(e){e.prev()},right:function(e){e.next()}},swipeNavigation:!0,swipeEvents:{left:function(e){e.next()},right:function(e){e.prev()},up:void 0,down:void 0},swipeHammerOptions:{},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstStep:!1,fallback:{speed:500}},P=50,w=100,b={animation:{WebkitAnimation:"-webkit-",animation:""}},x=function(e,t,n){function i(e){g.cssText=e}function a(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var i in e){var a=e[i];if(!o(a,"-")&&g[a]!==n)return"pfx"!=t||a}return!1}function s(e,t,i){for(var o in e){var r=t[e[o]];if(r!==n)return i===!1?e[o]:a(r,"function")?r.bind(i||t):r}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+S.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?r(o,t):(o=(e+" "+P.join(i+" ")+i).split(" "),s(o,t,n))}var u,p,d,c="2.8.3",h={},f=t.documentElement,m="modernizr",v=t.createElement(m),g=v.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),T="Webkit Moz O ms",S=T.split(" "),P=T.toLowerCase().split(" "),w={svg:"http://www.w3.org/2000/svg"},b={},x=[],q=x.slice,E=function(e,n,i,a){var o,r,s,l,u=t.createElement("div"),p=t.body,d=p||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=a?a[i]:m+(i+1),u.appendChild(s);return o=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),u.id=m,(p?u:d).innerHTML+=o,d.appendChild(u),p||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),r=n(u,e),p?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),f.style.overflow=l),!!r},k={}.hasOwnProperty;d=a(k,"undefined")||a(k.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=q.call(arguments,1),i=function(){if(this instanceof i){var a=function(){};a.prototype=t.prototype;var o=new a,r=t.apply(o,n.concat(q.call(arguments)));return Object(r)===r?r:o}return t.apply(e,n.concat(q.call(arguments)))};return i}),b.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:E(["@media (",y.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},b.cssanimations=function(){return l("animationName")},b.csstransforms=function(){return!!l("transform")},b.csstransitions=function(){return l("transition")},b.svg=function(){return!!t.createElementNS&&!!t.createElementNS(w.svg,"svg").createSVGRect};for(var $ in b)d(b,$)&&(p=$.toLowerCase(),h[p]=b[$](),x.push((h[p]?"":"no-")+p));return h.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(t?"":"no-")+e),h[e]=t}return h},i(""),v=u=null,h._version=c,h._prefixes=y,h._domPrefixes=P,h._cssomPrefixes=S,h.testProp=function(e){return r([e])},h.testAllProps=l,h.testStyles=E,h.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},h}(window,window.document);Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1});var q,E;"undefined"!=typeof document.hidden?(q="hidden",E="visibilitychange"):"undefined"!=typeof document.mozHidden?(q="mozHidden",E="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(q="msHidden",E="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(q="webkitHidden",E="webkitvisibilitychange");var k={modernizr:x};return k.ui={defaultElements:{nextButton:"seq-next",prevButton:"seq-prev",autoPlayButton:"seq-autoplay",pagination:"seq-pagination",preloader:"seq-preloader"},getElements:function(e,t){var n,i,a,o,r,s=[];for(i=document.querySelectorAll(t===!0?"."+this.defaultElements[e]:t),a=i.length,r=0;a>r;r++)n=i[r],o=n.getAttribute("rel"),(null===o||o===k.$container.getAttribute("id"))&&s.push(n);return s},show:function(e,t){k.propertySupport.transitions===!0?(e.style[x.prefixed("transitionDuration")]=t+"ms",e.style[x.prefixed("transitionProperty")]="opacity, "+x.prefixed("transform"),e.style.opacity=1):k.animationFallback.animate(e,"opacity","",0,1,t)},hide:function(e,t,n){k.propertySupport.transitions===!0?(e.style[x.prefixed("transitionDuration")]=t+"ms",e.style[x.prefixed("transitionProperty")]="opacity, "+x.prefixed("transform"),e.style.opacity=0):k.animationFallback.animate(e,"opacity","",1,0,t),void 0!==n&&(k.hideTimer=setTimeout(function(){n()},t))}},k.autoPlay={init:function(){k.isAutoPlayPaused=!1,k.isAutoPlaying=!1},getDelay:function(e,t,n){switch(e){case!0:e=null===t?n:t;break;case!1:case void 0:e=0}return e},start:function(e,t){if(k.isAutoPlaying===!0||k.isReady===!1)return!1;var n=k.options;return e=this.getDelay(e,n.autoPlayDelay,n.autoPlayInterval),void 0===t&&k.started(k),h(k.$container,"seq-autoplaying"),h(k.$autoPlay,"seq-autoplaying"),n.autoPlay=!0,k.isAutoPlaying=!0,k.isAnimating===!1&&(k.autoPlayTimer=setTimeout(function(){1===n.autoPlayDirection?k.next():k.prev()},e)),!0},stop:function(){return k.options.autoPlay===!0&&k.isAutoPlaying===!0&&(k.options.autoPlay=!1,k.isAutoPlaying=!1,clearTimeout(k.autoPlayTimer),f(k.$container,"seq-autoplaying"),f(k.$autoPlay,"seq-autoplaying"),k.stopped(k),!0)},unpause:function(){return k.isAutoPlayPaused===!0&&(k.isAutoPlayPaused=!1,this.start(!0),!0)},pause:function(){return k.options.autoPlay===!0&&(k.isAutoPlayPaused=!0,this.stop(),!0)}},k.canvas={init:function(){void 0!==k.$screen&&(k.$screen.style.height="100%",k.$screen.style.width="100%"),k.canvas.getTransformProperties()},getSteps:function(e){var t,n,i,a=[],o=e.children,r=o.length;for(k.stepProperties={},i=0;r>i;i++)n=o[i],t=i+1,a.push(n),k.stepProperties[t]={},k.stepProperties[t].isActive=!1;return a},getTransformProperties:function(){var e,t,n,i;for(e=0;e<k.noOfSteps;e++)t=k.$steps[e],n=e+1,i={seqX:0,seqY:0,seqZ:0},i.seqX+=-1*t.offsetLeft,i.seqY+=-1*t.offsetTop,k.stepProperties[n].canvasTransform=i},move:function(e,t){if(k.options.animateCanvas===!0){var n,i=0;return t===!0&&k.firstRun===!1&&(i=k.options.animateCanvasDuration),k.isFallbackMode===!1&&(n=k.stepProperties[e].canvasTransform,k.$canvas.style[x.prefixed("transitionDuration")]=i+"ms",k.$canvas.style[x.prefixed("transform")]="translateX("+n.seqX+"px) translateY("+n.seqY+"px) translateZ("+n.seqZ+"px) "),!0}return!1},removeNoJsClass:function(){if(k.isFallbackMode!==!0)for(var e=0;e<k.$steps.length;e++){var t=k.$steps[e];if(c(t,"seq-in")===!0){var n=e+1;k.animation.resetInheritedSpeed(n),f(t,"seq-in")}}}},k.animation={getPhaseProperties:function(e){var t,n,i,a,o=k.$steps[e-1],r=o.querySelectorAll("*[data-seq]"),s=o.querySelectorAll("*"),u=s.length,p=[],c=[],h=[],f=[],m=[],v=[];for(n=0;u>n;n++)t=s[n],i=d(l(t,x.prefixed("transitionDuration"))),a=d(l(t,x.prefixed("transitionDelay"))),f.push(i),m.push(a),v.push(i+a),null!==t.getAttribute("data-seq")&&(p.push(i),c.push(a),h.push(i+a));var g=Math.max.apply(Math,f),y=Math.max.apply(Math,m),T=Math.max.apply(Math,v),S=Math.max.apply(Math,p),P=Math.max.apply(Math,c),w=Math.max.apply(Math,h);return{stepId:e,stepElement:o,children:s,animatedChildren:r,watchedTimings:{maxDuration:S,maxDelay:P,maxTotal:w},timings:{maxDuration:g,maxDelay:y,maxTotal:T}}},getPhaseThreshold:function(e,t,n,i){var a=0;return n===!0&&k.options.ignorePhaseThresholdWhenSkipped===!0&&(e=!0),void 0===e&&(t===!0?a=i:t!==!1&&(a=t)),a},getReversePhaseDelay:function(e,t,n,i,a){var o=0,r=0,s=0;return n===!0||i!==!1&&a!==!1||(o=e-t,o>0?s=o:0>o&&(r=Math.abs(o))),{next:s,current:r}},moveActiveStepToTop:function(e,t){if(k.options.moveActiveStepToTop===!0){var n=k.$steps[k.prevStepId-1],i=k.noOfSteps-1;n.style.zIndex=1,e.style.zIndex=i,t.style.zIndex=k.noOfSteps}return null},manageNavigationSkip:function(e,t){if(k.isFallbackMode!==!0){var n,i,a,o,r;if(k.ui.show(t,0),k.options.navigationSkip===!0){if(k.navigationSkipThresholdActive=!0,0!==k.phasesAnimating&&(clearTimeout(k.phaseThresholdTimer),clearTimeout(k.nextPhaseStartedTimer),k.options.fadeStepWhenSkipped===!0))for(n=1;n<=k.noOfSteps;n++)i=k.stepProperties[n],i.isActive===!0&&n!==e&&(a=k.$steps[n-1],o=n,r={},r.id=o,r.element=a,k.phasesSkipped.push(r),k.animation.stepSkipped(a));k.navigationSkipThresholdTimer=setTimeout(function(){k.navigationSkipThresholdActive=!1},k.options.navigationSkipThreshold)}}},stepSkipped:function(e){k.ui.hide(e,k.options.fadeStepTime,function(){})},changeStep:function(e){var t="seq-step"+e;if(void 0!==k.currentStepId){var n="seq-step"+k.currentStepId;h(k.$container,t),f(k.$container,n)}else h(k.$container,t)},reverseProperties:function(e,t,n,i){var a,o,r,s,u,p,c,h,f,m=this,v=e.children,g=v.length,y=e.timings,T=[],S=[];for(o=0;g>o;o++)a=v[o],u=d(l(a,x.prefixed("transitionDuration"))),p=d(l(a,x.prefixed("transitionDelay"))),c=u+p,p=y.maxTotal-c,i!==!0&&(p+=t),c=u+p,T.push(c),null!==a.getAttribute("data-seq")&&S.push(c),r=l(a,x.prefixed("transitionTimingFunction")),s=m.reverseTimingFunction(r),a.style[x.prefixed("transition")]=u+"ms "+p+"ms "+s;return h=Math.max.apply(Math,T),f=Math.max.apply(Math,S),setTimeout(function(){m.domDelay(function(){for(o=0;g>o;o++)a=v[o],a.style[x.prefixed("transition")]=""})},h+n),f},forward:function(e,t,n,i,a){var o,r,s,l=this;k.firstRun===!1&&l.currentPhaseStarted(k.currentStepId),f(n,"seq-out"),l.domDelay(function(){o=l.startAnimateOut(k.currentStepId,t,1),r=o.watchedTimings.maxTotal,s=l.getPhaseThreshold(i,k.options.phaseThreshold,k.isAnimating,r),k.isAnimating=!0,l.startAnimateIn(e,r,n,s,a)})},reverse:function(e,t,n,i,a){var o,r,s,l,u,p=this,d=0;h(n,"seq-out"),p.domDelay(function(){r=p.getPhaseProperties(k.currentStepId,"current"),s=p.getPhaseProperties(e,"next"),d=p.getPhaseThreshold(i,k.options.phaseThreshold,k.isAnimating,r.timings.maxTotal),o=p.getReversePhaseDelay(r.timings.maxTotal,s.timings.maxTotal,k.options.phaseThreshold,k.options.ignorePhaseThresholdWhenSkipped,k.isAnimating),l=p.reverseProperties(r,o.current,0,i),u=p.reverseProperties(s,o.next,d,i),p.startAnimateOut(k.currentStepId,t,-1,l),k.isAnimating=!0,k.firstRun===!1&&p.currentPhaseStarted(k.currentStepId),p.startAnimateIn(e,l,n,d,a,u)})},startAnimateIn:function(e,t,n,i,a,o){var r,s,l=this;k.prevStepId=k.currentStepId,k.currentStepId=e,k.firstRun===!0&&k.pagination.update(),k.firstRun===!1||k.options.startingStepAnimatesIn===!0?(k.stepProperties[e].isActive=!0,k.nextPhaseStartedTimer=setTimeout(function(){l.nextPhaseStarted(e,a)},i),k.phaseThresholdTimer=setTimeout(function(){h(n,"seq-in"),f(n,"seq-out"),void 0===o&&(r=k.animation.getPhaseProperties(e,"next"),o=r.watchedTimings.maxTotal),l.phaseEnded(e,"next",o,l.nextPhaseEnded),s=l.getStepDuration(t,o,k.options.phaseThreshold),k.stepEndedTimer=setTimeout(function(){k.animation.stepEnded(e)},s)},i)):(l.resetInheritedSpeed(e),k.phasesAnimating=0,k.isAnimating=!1,k.options.autoPlay===!0&&k.autoPlay.start(!0),h(n,"seq-in"),f(n,"seq-out")),k.firstRun=!1},startAnimateOut:function(e,t,n,i){var a,o=this;return 1===n?(f(t,"seq-in"),h(t,"seq-out"),a=o.getPhaseProperties(e,"current"),i=a.watchedTimings.maxTotal):f(t,"seq-in"),k.firstRun===!1&&(k.stepProperties[e].isActive=!0,o.phaseEnded(e,"current",i,o.currentPhaseEnded)),a},getStepDuration:function(e,t,n){var i;switch(n){case!0:i=t;break;case!1:i=e>=t?e:t;break;default:i=e>=t+n?e-n:t}return i},currentPhaseStarted:function(e){k.phasesAnimating++,k.currentPhaseStarted(e,k)},currentPhaseEnded:function(e){k.currentPhaseEnded(e,k)},nextPhaseStarted:function(e,t){k.phasesAnimating++,void 0===t&&k.hashTags.update(),k.pagination.update(),k.nextPhaseStarted(e,k)},nextPhaseEnded:function(e){k.nextPhaseEnded(e,k)},phaseEnded:function(e,t,n,i){var a;a=function(e){k.stepProperties[e].isActive=!1,k.phasesAnimating--,i(e)},"current"===t?k.currentPhaseEndedTimer=setTimeout(function(){a(e)},n):k.nextPhaseEndedTimer=setTimeout(function(){a(e)},n)},stepEnded:function(e){k.isAnimating=!1,k.isAutoPlaying=!1,k.options.autoPlay===!0&&k.autoPlay.start(!0,!0),k.animationEnded(e,k)},reversePhase:function(e){var t={"seq-out":"seq-in","seq-in":"seq-out"};return t[e]},domDelay:function(e){setTimeout(function(){e()},P)},reverseTimingFunction:function(e){if(""===e||void 0===e)return e;var t,n,i,a,o={linear:"cubic-bezier(0.0,0.0,1.0,1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)"};for(e.indexOf("cubic-bezier")<0&&(e=e.split(",")[0],e=o[e]),t=e.replace("cubic-bezier(","").replace(")","").split(","),n=t.length,a=0;n>a;a++)t[a]=parseFloat(t[a]);return i=[1-t[2],1-t[3],1-t[0],1-t[1]],e="cubic-bezier("+i+")"},resetInheritedSpeed:function(e){if(k.isFallbackMode!==!0){var t,n,i=k.$steps[e-1].querySelectorAll("*"),a=i.length;for(n=0;a>n;n++)t=i[n],t.style[x.prefixed("transition")]="0ms 0ms";k.animation.domDelay(function(){for(n=0;a>n;n++)t=i[n],t.style[x.prefixed("transition")]=""})}},getDirection:function(e,t,n,i,a,o,r){var s=1;return s=void 0!==t?t:o===!0||a===!0?r===!0&&1===e&&n===i?1:n>e?-1:1:1},requiresFallbackMode:function(e){var t=e.transitions,n=!1;return t===!1&&(n=!0),n},getPropertySupport:function(){var e=!1,t=!1;return x.csstransitions===!0&&(e=!0),x.cssanimations===!0&&(t=!0),{transitions:e,animations:t}}},k.animationFallback={animate:function(e,t,n,i,a,o,r){if(e!==!1){var s=(new Date).getTime(),l=setInterval(function(){var u=Math.min(1,((new Date).getTime()-s)/o);e.style[t]=i+u*(a-i)+n,1===u&&(void 0!==r&&r(),clearInterval(l))},25);e.style[t]=i+n}},setupCanvas:function(){var e,t,n;if(k.isFallbackMode===!0)for(h(k.$container,"seq-fallback"),void 0!==k.$screen&&(k.$screen.style.overflow="hidden",k.$screen.style.width="100%",k.$screen.style.height="100%"),k.$canvas.style.width="100%",k.$canvas.style.height="100%",this.canvasWidth=k.$canvas.offsetWidth,e=0;e<k.noOfSteps;e++)t=k.$steps[e],n=e+1,h(t,"seq-in"),t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.whiteSpace="normal",t.style.left="100%"},moveCanvas:function(e,t,n,i){if(i===!0){var a=0,o=-100,r=100,s=0;-1===n&&(o=100,r=-100),this.animate(t,"left","%",a,o,k.options.fallback.speed),this.animate(e,"left","%",r,s,k.options.fallback.speed)}else t.style.left="-100%",e.style.left="0"},goTo:function(e,t,n,i,a,o,r){k.prevStepId=k.currentStepId,k.currentStepId=e,void 0===r&&k.hashTags.update(),k.pagination.update(),k.firstRun===!1?(this.moveCanvas(a,n,o,!0),k.isAnimating=!0,k.animationStarted(k.currentStepId,k),k.stepEndedTimer=setTimeout(function(){k.animation.stepEnded(k.currentStepId)},k.options.fallback.speed)):(this.moveCanvas(a,n,o,!1),k.firstRun=!1,k.options.autoPlay===!0&&k.autoPlay.start(!0))}},k.pagination={getLinks:function(e){var t,n,i=e.childNodes,a=i.length,o=[];for(n=0;a>n;n++)t=i[n],1===t.nodeType&&o.push(t);return o},update:function(){if(void 0!==k.$pagination.elements){var e,t,n,i,a=k.currentStepId-1,o=k.$pagination.elements.length;if(void 0!==k.$pagination.currentLinks)for(i=k.$pagination.currentLinks.length,e=0;i>e;e++)n=k.$pagination.currentLinks[e],f(n,"seq-current");for(k.$pagination.currentLinks=[],t=0;o>t;t++)n=k.$pagination.links[t][a],k.$pagination.currentLinks.push(n),h(n,"seq-current")}return k.$pagination.currentLinks}},k.hashTags={init:function(e){if(k.options.hashTags===!0){var t,n;k.hasPushstate=!(!window.history||!history.pushState),n=location.hash.replace("#!",""),k.stepHashTags=this.getStepHashTags(),""!==n&&(k.currentHashTag=n,t=this.hasCorrespondingStep(k.currentHashTag),t>-1&&(e=t+1))}return e},hasCorrespondingStep:function(e){var t=-1,n=k.stepHashTags.indexOf(e);return n>-1&&(t=n),t},getStepHashTags:function(){var e,t,n=[];for(e=0;e<k.noOfSteps;e++)t=k.options.hashDataAttribute===!1?k.$steps[e].id:k.$steps[e].getAttribute("data-seq-hashtag"),n.push(t);return n},update:function(){if(k.options.hashTags===!0&&k.firstRun===!1||k.options.hashTags===!0&&k.firstRun===!0&&k.options.hashChangesOnFirstStep===!0){var e=k.currentStepId-1;k.currentHashTag=k.stepHashTags[e],""!==k.currentHashtag&&(k.hasPushstate===!0?history.pushState(null,null,"#!"+k.currentHashTag):location.hash="#!"+k.currentHashTag)}},setupEvent:function(){if("onhashchange"in window){if(window.addEventListener)return window.addHashChange=function(e,t){window.addEventListener("hashchange",e,t)},void(window.removeHashChange=function(e){window.removeEventListener("hashchange",e)});if(window.attachEvent)return window.addHashChange=function(e){window.attachEvent("onhashchange",e)},void(window.removeHashChange=function(e){window.detachEvent("onhashchange",e)})}var e=[],t=location.href;window.addHashChange=function(t,n){"function"==typeof t&&e[n?"unshift":"push"](t)},window.removeHashChange=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setInterval(function(){var n=location.href;if(t!==n){var i=t;t=n;for(var a=0;a<e.length;a++)e[a].call(window,{type:"hashchange",newURL:n,oldURL:i})}},100)}},k.preload={defaultHtml:'<svg width="39" height="16" viewBox="0 0 39 16" xmlns="http://www.w3.org/2000/svg" class="seq-preload-indicator"><title>Sequence.js Preloading Indicator</title><desc>Three orange dots increasing in size from left to right</desc><g fill="#F96D38"><path class="seq-preload-circle seq-preload-circle-1" d="M3.999 12.012c2.209 0 3.999-1.791 3.999-3.999s-1.79-3.999-3.999-3.999-3.999 1.791-3.999 3.999 1.79 3.999 3.999 3.999z"/><path class="seq-preload-circle seq-preload-circle-2" d="M15.996 13.468c3.018 0 5.465-2.447 5.465-5.466 0-3.018-2.447-5.465-5.465-5.465-3.019 0-5.466 2.447-5.466 5.465 0 3.019 2.447 5.466 5.466 5.466z"/><path class="seq-preload-circle seq-preload-circle-3" d="M31.322 15.334c4.049 0 7.332-3.282 7.332-7.332 0-4.049-3.282-7.332-7.332-7.332s-7.332 3.283-7.332 7.332c0 4.05 3.283 7.332 7.332 7.332z"/></g></svg>',fallbackHtml:'<div class="seq-preload-indicator seq-preload-indicator-fallback"><div class="seq-preload-circle seq-preload-circle-1"></div><div class="seq-preload-circle seq-preload-circle-2"></div><div class="seq-preload-circle seq-preload-circle-3"></div></div>',defaultStyles:"@"+b.animation[x.prefixed("animation")]+"keyframes seq-preloader {50% {opacity: 1;}100% {opacity: 0;}}.seq-preloader {background: white;visibility: visible;opacity: 1;position: absolute;z-index: 9999;height: 100%;width: 100%;top: 0;left: 0;right: 0;bottom: 0;} .seq-preloader.seq-preloaded {opacity: 0;visibility: hidden;"+x.prefixed("transition")+": visibility 0s .5s, opacity .5s;}.seq-preload-indicator {overflow: visible;position: relative;top: 50%;left: 50%;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);}.seq-preload-circle {display: inline-block;height: 12px;width: 12px;fill: #F96D38;opacity: 0;"+b.animation[x.prefixed("animation")]+"animation: seq-preloader 1.25s infinite;}.seq-preload-circle-2 {"+b.animation[x.prefixed("animation")]+"animation-delay: .15s;}.seq-preload-circle-3 {"+b.animation[x.prefixed("animation")]+"animation-delay: .3s;}.seq-preload-indicator-fallback{width: 42px;margin-left: -21px;overflow: visible;}.seq-preload-indicator-fallback .seq-preload-circle {width: 8px; height:8px;background-color: #F96D38;border-radius: 100%; opacity: 1;display: inline-block; vertical-align: middle;}.seq-preload-indicator-fallback .seq-preload-circle-2{margin-left: 3px; margin-right: 3px; width: 12px; height: 12px;}.seq-preload-indicator-fallback .seq-preload-circle-3{width: 16px; height: 16px;}",init:function(t){if(k.options.preloader!==!1){var n,i,a,o,r,s,l=this;return h(k.$container,"seq-preloading"),k.$preloader=k.ui.getElements("preloader",k.options.preloader),l.append(),l.addStyles(),l.toggleStepsVisibility("hide"),n=l.getImagesToPreload(k.options.preloadTheseSteps),i=l.getImagesToPreload(k.options.preloadTheseImages,!0),a=n.concat(i),o=e(a),o.on("always",function(){l.complete(t)}),r=1,o.on("progress",function(e,t){s=t.isLoaded?"loaded":"broken",k.preloadProgress(s,t.img.src,r++,a.length,k)}),!0}return!1},complete:function(e){k.preloaded(k),k.options.pausePreloader!==!0&&(this.toggleStepsVisibility("show"),f(k.$container,"seq-preloading"),h(k.$container,"seq-preloaded"),h(k.$preloader[0],"seq-preloaded"),void 0!==this.preloadIndicatorTimer&&clearInterval(this.preloadIndicatorTimer),(x.prefixed("animation")===!1||x.svg===!1)&&(k.$preloader[0].style.display="none"),void 0!==e&&e())},addStyles:function(){if(k.options.preloader===!0){var e=document.head||document.getElementsByTagName("head")[0];if(this.styleElement=document.createElement("style"),this.styleElement.type="text/css",this.styleElement.styleSheet?this.styleElement.styleSheet.cssText=this.defaultStyles:this.styleElement.appendChild(document.createTextNode(this.defaultStyles)),e.appendChild(this.styleElement),x.prefixed("animation")===!1||x.svg===!1){var t=k.$preloader[0].firstChild,n=function(){t.style.visibility="hidden",preloadFlashTime=1e3,setTimeout(function(){t.style.visibility="visible"},500)};n(),this.preloadIndicatorTimer=setInterval(function(){n()},1e3)}return!0}return!1},removeStyles:function(){this.styleElement.parentNode.removeChild(this.styleElement)},getImagesToPreload:function(e,t){var n=[];if(r(e)===!0){var i,a,o,s,l,u,p,d,c=e.length;if(t!==!0)for(i=0;c>i;i++)for(o=k.$steps[i],s=o.getElementsByTagName("img"),l=s.length,a=0;l>a;a++)u=s[a],n.push(u);else for(p=[],i=0;c>i;i++)d=e[i],p[i]=new Image,p[i].src=d,n.push(p[i])}return n},append:function(){return k.options.preloader===!0&&(k.$preloader=document.createElement("div"),k.$preloader.className="seq-preloader",k.$preloader=[k.$preloader],k.$preloader[0].innerHTML=x.prefixed("animation")!==!1&&x.svg===!0?k.preload.defaultHtml:k.preload.fallbackHtml,k.$container.insertBefore(k.$preloader[0],null),!0)},toggleStepsVisibility:function(e){if(k.options.hideStepsUntilPreloaded===!0){var t,n;for(t=0;t<k.noOfSteps;t++)n=k.$steps[t],"hide"===e?k.ui.hide(n,0):k.ui.show(n,0);return!0}return!1}},k.manageEvents={list:{load:[],click:[],touchstart:[],mousemove:[],mouseleave:[],hammer:[],keyup:[],hashchange:[],resize:[]},init:function(){return k.manageEvents.list[E]=[],k.options.hashTags===!0&&this.add.hashChange(),k.options.swipeNavigation===!0?this.add.swipeNavigation():k.hammerTime=!1,k.options.keyNavigation===!0&&this.add.keyNavigation(),this.add.resizeThrottle(),this.add.pageVisibility(),k.options.nextButton!==!1&&(k.$next=k.ui.getElements("nextButton",k.options.nextButton),this.add.button(k.$next,"nav",k.next)),k.options.prevButton!==!1&&(k.$prev=k.ui.getElements("prevButton",k.options.prevButton),this.add.button(k.$prev,"nav",k.prev)),k.options.autoPlayButton!==!1&&(k.$autoPlay=k.ui.getElements("autoPlayButton",k.options.autoPlayButton),this.add.button(k.$autoPlay,"nav",k.toggleAutoPlay)),this.add.stopOnHover(),k.options.pagination!==!1&&(k.$pagination={},k.$pagination.relatedElementId=i,k.$pagination.links=[],k.$pagination.elements=k.ui.getElements("pagination",k.options.pagination),this.add.button(k.$pagination.elements,"pagination")),null},removeAll:function(e){var t,n;for(t in e)e.hasOwnProperty(t)===!0&&(n=e[t],this.remove(t));return null},remove:function(e){var t=k.manageEvents.list[e],n=t.length;switch(e){case"hashchange":k.options.hashTags===!0&&removeHashChange(t[0].handler);break;case"hammer":if(k.manageEvents.list.hammer.length>0&&void 0!==document.querySelectorAll){var i=k.manageEvents.list.hammer[0].handler;k.hammerTime.off("swipe",[i])}break;default:for(var a=0;n>a;a++){var o=t[a];p(o.element,e,o.handler)}}},add:{hashChange:function(){k.hashTags.setupEvent();var e=function(e){var t,n;t=e.newURL||location.href,t=t.split("#!")[1],k.currentHashTag!==t&&(n=k.stepHashTags.indexOf(t)+1,k.currentHashTag=t,k.goTo(n,void 0,void 0,!0))};return addHashChange(e),k.manageEvents.list.hashchange.push({element:window,handler:e}),k.manageEvents.list.hashchange},button:function(e,t,n){var i,a,o,r,s,l,p,d=e.length;switch(t){case"nav":o=function(e){i=u(e,"click",function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1,n()})};break;case"pagination":o=function(e,t){i=u(e,"click",function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement;r=this,l=v(r,t),k.goTo(l)}),k.$pagination.links.push(k.pagination.getLinks(e,t))}}for(p=0;d>p;p++)a=e[p],s=a.getAttribute("rel"),s===k.$container.id&&null===a.getAttribute("data-seq-button")?(a.setAttribute("data-seq-button",!0),o(a,s)):null===s&&null===a.getAttribute("data-seq-button")&&o(a,s),k.manageEvents.list.click.push({element:a,handler:i});return k.manageEvents.list.click},stopOnHover:function(){var e,t;return k.isMouseOver=!1,e=u(k.$container,"touchstart",function(){k.isTouched=!0}),k.manageEvents.list.touchstart.push({element:k.$container,handler:e}),t=u(k.$container,"mousemove",function(e){return e=e||window.event,k.isTouched===!0?void(k.isTouched=!1):void(m(k.$container,e)===!0?(k.options.autoPlayPauseOnHover===!0&&k.isMouseOver===!1&&k.autoPlay.pause(),k.isMouseOver=!0):(k.options.autoPlayPauseOnHover===!0&&k.isMouseOver===!0&&k.autoPlay.unpause(),k.isMouseOver=!1))}),k.manageEvents.list.mousemove.push({element:k.$container,handler:t}),t=u(k.$container,"mouseleave",function(){k.options.autoPlayPauseOnHover===!0&&k.autoPlay.unpause(),k.isMouseOver=!1}),k.manageEvents.list.mouseleave.push({element:k.$container,handler:t}),null},swipeNavigation:function(){if(void 0===window.addEventListener)return void(k.hammerTime=!1);var e,n;"function"==typeof t&&(n=function(e){switch(e.direction){case 2:k.options.swipeEvents.left(k);break;case 4:k.options.swipeEvents.right(k);break;case 8:k.options.swipeEvents.up(k);break;case 16:k.options.swipeEvents.down(k)}},k.hammerTime=new t(k.$container).on("swipe",n),k.hammerTime.get("swipe").set(k.options.swipeHammerOptions),e=g(k.options.swipeEvents),k.hammerTime.get("swipe").set({direction:e}),k.manageEvents.list.hammer.push({element:k.$container,handler:n}))},keyNavigation:function(){var e=u(document,"keyup",function(e){e||(e=window.event);var t=parseInt(String.fromCharCode(e.keyCode));switch(t>0&&t<=k.noOfSteps&&k.options.numericKeysGoToSteps&&k.goTo(t),e.keyCode){case 37:k.options.keyEvents.left(k);break;case 39:k.options.keyEvents.right(k)}});k.manageEvents.list.keyup.push({element:document,handler:e})},resizeThrottle:function(){function e(){setTimeout(function(){k.canvas.getTransformProperties(),k.propertySupport.transitions===!0&&k.canvas.move(k.currentStepId,!1)},500),k.throttledResize(k)}var t,n;n=u(window,"resize",function(){clearTimeout(t),t=setTimeout(e,w)}),k.manageEvents.list.resize.push({element:window,handler:n})},pageVisibility:function(){var e=u(document,E,function(){document[q]?k.autoPlay.pause():k.autoPlay.unpause()},!1);k.manageEvents.list[E].push({element:document,handler:e})}}},k.init=function(t){var n,i,a,r;k.options=s(S,o),k.isAnimating=!1,k.isReady=!1,k.$container=t,k.$screen=k.$container.querySelectorAll(".seq-screen")[0],k.$canvas=k.$container.querySelectorAll(".seq-canvas")[0],k.$steps=k.canvas.getSteps(k.$canvas),k.noOfSteps=k.$steps.length,k.phasesAnimating=0,k.phasesSkipped=[],y(k.$container,x),n=k.options.startingStepId,h(k.$container,"seq-active"),k.propertySupport=k.animation.getPropertySupport(),k.isFallbackMode=k.animation.requiresFallbackMode(k.propertySupport),k.canvas.init(n),k.canvas.removeNoJsClass(k),k.manageEvents.init(),k.autoPlay.init(),k.firstRun=!0,n=k.hashTags.init(n),1===k.options.autoPlayDirection?(a=n-1,k.prevStepId=1>a?k.noOfSteps:a):(a=n+1,k.prevStepId=a>k.noOfSteps?1:a),k.currentStepId=k.prevStepId,i=k.prevStepId,k.animationFallback.setupCanvas(n),r=function(){k.animation.domDelay(function(){k.animation.domDelay(function(){k.animation.resetInheritedSpeed(i)}),k.isReady=!0,k.ready(k),k.goTo(n,k.options.autoPlayDirection,!0)})},k.options.preloader!==!1&&void 0!==document.querySelectorAll&&"function"==typeof e?k.preload.init(function(){r()}):r()},k.destroy=function(){var e,t,n;for(k.autoPlay.stop(),clearTimeout(k.autoPlayTimer),clearTimeout(k.phaseThresholdTimer),clearTimeout(k.stepEndedTimer),clearTimeout(k.currentPhaseEndedTimer),clearTimeout(k.nextPhaseStartedTimer),clearTimeout(k.nextPhaseEndedTimer),clearTimeout(k.fadeStepTimer),clearTimeout(k.hideTimer),clearTimeout(k.navigationSkipThresholdTimer),k.manageEvents.removeAll(k.manageEvents.list),f(k.$pagination.currentLinks,"seq-current"),f(k.$container,"seq-step"+k.currentStepId),f(k.$container,"seq-active"),k.$container.removeAttribute("style"),void 0!==k.$screen&&k.$screen.removeAttribute("style"),k.$canvas.removeAttribute("style"),e=0;e<k.noOfSteps;e++)t=k.$steps[e],t.removeAttribute("style"),k.animation.resetInheritedSpeed(e+1),f(t,"seq-in"),f(t,"seq-out");return n=k.$steps[k.options.startingStepId-1],k.animation.resetInheritedSpeed(k.options.startingStepId),h(n,"seq-in"),a.removeAttribute("data-seq-enabled"),k.destroyed(k),k=null},k.next=function(){var e=k.currentStepId+1;return!(e>k.noOfSteps&&k.options.cycle===!1)&&(e>k.noOfSteps&&(e=1),k.goTo(e),e)},k.prev=function(){var e,t=k.currentStepId-1;return!(1>t&&k.options.cycle===!1)&&(1>t&&(t=k.noOfSteps),k.options.reverseWhenNavigatingBackwards===!0&&(e=-1),k.goTo(t,e),t)},k.toggleAutoPlay=function(e){return k.isAutoPlaying===!1?k.start(e):k.stop(),k.isAutoPlaying},k.stop=function(){
k.autoPlay.stop()},k.start=function(e){k.autoPlay.start(e)},k.goTo=function(e,t,n,i){if(t=k.animation.getDirection(e,t,k.currentStepId,k.noOfSteps,k.isFallbackMode,k.options.reverseWhenNavigatingBackwards,k.options.cycle),void 0===e||1>e||e>k.noOfSteps||e===k.currentStepId||k.options.navigationSkip===!1&&k.isAnimating===!0||k.options.navigationSkip===!0&&k.navigationSkipThresholdActive===!0&&void 0===i||k.isFallbackMode===!0&&k.isAnimating===!0&&void 0===i||k.options.preventReverseSkipping===!0&&k.direction!==t&&k.isAnimating===!0)return!1;var a,o;return clearTimeout(k.autoPlayTimer),k.direction=t,1===t?f(k.$container,"seq-reversed"):h(k.$container,"seq-reversed"),a=k.$steps[k.currentStepId-1],o=k.$steps[e-1],k.animation.moveActiveStepToTop(a,o),k.animation.changeStep(e),k.isFallbackMode===!1?(k.animation.resetInheritedSpeed(e),(k.firstRun===!1||k.firstRun===!0&&k.options.startingStepAnimatesIn===!0)&&k.animationStarted(e,k),k.canvas.move(e,!0),k.animation.manageNavigationSkip(e,o),1===t?k.animation.forward(e,a,o,n,i):k.animation.reverse(e,a,o,n,i)):k.animationFallback.goTo(e,k.currentStepId,a,e,o,t,i),!0},k.started=function(){},k.stopped=function(){},k.animationStarted=function(){},k.animationEnded=function(){},k.currentPhaseStarted=function(){},k.currentPhaseEnded=function(){},k.nextPhaseStarted=function(){},k.nextPhaseEnded=function(){},k.throttledResize=function(){},k.preloaded=function(){},k.preloadProgress=function(){},k.ready=function(){},k.destroyed=function(){},k.utils={addClass:h,removeClass:f,addEvent:u,removeEvent:p},k.init(a),n.push(k),k};return a}if("function"==typeof define&&define.amd)define(["imagesLoaded","Hammer"],defineSequence);else{Hammer="function"!=typeof Hammer?null:Hammer,imagesLoaded="function"!=typeof imagesLoaded?null:imagesLoaded;var sequence=defineSequence(imagesLoaded,Hammer)}